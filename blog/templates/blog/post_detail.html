{% extends "blog/base.html" %}

{% block content %}

<article class="card shadow-sm mb-4">

  <div class="card-body">

    <!-- Author + Meta -->
    <div class="d-flex align-items-center mb-3">

      <!-- Profile Image -->
      <img
        src="{{ object.author.profile.image.url }}"
        alt="profile image"
        class="rounded-circle me-3"
        width="45"
        height="45"
        style="object-fit: cover;"
      >

      <div class="flex-grow-1">
        <div class="d-flex align-items-center flex-wrap">
          <a class="fw-semibold text-decoration-none me-2" href="#">
            {{ object.author }}
          </a>
          <small class="text-muted">
            {{ object.date_posted|date:"F d Y" }}
          </small>
        </div>

        {% if object.author == user %}
        <div class="mt-1">
          <a href="{% url 'post-update' object.id %}"
             class="btn btn-outline-secondary btn-sm me-1">
            Update
          </a>
          <a href="{% url 'post-delete' object.id %}"
             class="btn btn-outline-danger btn-sm">
            Delete
          </a>
        </div>
        {% endif %}
      </div>

    </div>

    <!-- Post Content -->
    <h2 class="card-title mb-3">
      {{ object.title }}
    </h2>

    <p class="card-text fs-6">
      {{ object.content }}
    </p>

  </div>

</article>

{% endblock %}
